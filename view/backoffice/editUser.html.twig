{% extends 'layout.html.twig' %}

{% block title %} Modifier l'utilisateur {% endblock title %}

{% block content %}
    <div class="container-fluid px-4">
        <h4 class="mt-4"> Gestion des utilisateurs</h4>
        <ol class="breadcrumb mb-4">
            <li class="breadcrumb-item"><a href="index.php?action=dashboard">Tableau de bord</a></li>
            <li class="breadcrumb-item active">modifier l'utilisateur</li>
        </ol>
        <div class="card mb-4">
            <div class="card-header">
                <i class="me-1"></i>
                Modifier l'utilisateur
            </div>
            <div class="card-body">
                <form method="post" action="index.php?action=dashboard/editUser&amp;id={{ user.id }}&amp;token={{ token }}">
                    <div class="mb-3 row visually-hidden">
                        <label for="id" class="col-sm-2 col-form-label"></label>
                        <div class="col-sm-10">
                            <input id="id" class="form-control" type="hidden" name="id" value="{{ user.id }}">
                        </div>
                    </div>
                    <div class="mb-3 row">
                        <label for="lastName" class="col-sm-2 col-form-label">Nom<span>*</span></label>
                        <div class="col-sm-10">
                            <input id="lastName" class="form-control" type="text" name="lastName"
                                   value="{{ user.lastName }}" required>
                        </div>
                    </div>
                    <div class="mb-3 row">
                        <label for="firstName" class="col-sm-2 col-form-label">Prénom<span>*</span></label>
                        <div class="col-sm-10">
                            <input id="firstName" class="form-control" type="text" name="firstName"
                                   value="{{ user.firstName }}" required>
                        </div>
                    </div>
                    <div class="mb-3 row">
                        <label for="email" class="col-sm-2 col-form-label">E-mail<span>*</span></label>
                        <div class="col-sm-10">
                            <input id="email" class="form-control" type="email" name="email" value="{{ user.email }}"
                                   required>
                        </div>
                    </div>
                    <div class="mb-3 row">
                        <label for="password" class="col-sm-2 col-form-label">Mot de passe<span>*</span></label>
                        <div class="col-sm-10">
                            <input id="password" class="form-control" type="password" name="password"
                                   value="{{ user.password }}" required>
                        </div>
                    </div>
                    <div class="mb-3 row">
                        <label for="role" class="col-sm-2 col-form-label">Rôles<span>*</span></label>
                        <div class="col-sm-10">
                            <select class="form-select" aria-label=".form-select-lg example" id="role" name="role"
                                    required>
                                <option>-- sélectionner un rôle --</option>
                                <option {% if user.role == 1 %} selected {% endif %} value=1 name="role">
                                    administrateur
                                </option>
                                <option {% if user.role == 2 %} selected {% endif %} value=2 name="role">visiteur
                                </option>
                            </select>
                        </div>
                    </div>
                    <div class="d-flex justify-content-end">
                        <div class="justify-content-between">
                            <a class="btn btn-primary" href="index.php?action=dashboard/listUsers" role="button">Retour
                                liste</a>
                            <button class="btn btn-primary" type="submit" name="submit">Mettre à jour</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
{% endblock content %}